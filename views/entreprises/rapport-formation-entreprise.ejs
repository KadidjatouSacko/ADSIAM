.progress-percentage {
            font-weight: 700;
            color: var(--primary-blue);
            font-size: 1.1rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border-light);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.75rem;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-contact);
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .progress-details {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Employee Reports Table */
        .employees-reports {
            background: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .table-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .table-actions {
            display: flex;
            gap: 1rem;
        }

        .employees-table {
            width: 100%;
            border-collapse: collapse;
        }

        .employees-table th {
            padding: 1rem;
            text-align: left;
            background: var(--soft-gray);
            color: var(--text-dark);
            font-weight: 600;
            font-size: 0.9rem;
            border-bottom: 1px solid var(--border-light);
        }

        .employees-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-light);
            font-size: 0.9rem;
        }

        .employee-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .employee-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            font-size: 0.9rem;
        }

        .employee-details h4 {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.2rem;
        }

        .employee-details p {
            color: var(--text-light);
            font-size: 0.8rem;
        }

        .progress-mini {
            width: 80px;
            height: 6px;
            background: var(--border-light);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-mini-fill {
            height: 100%;
            background: var(--gradient-contact);
            border-radius: 3px;
        }

        .certification-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cert-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .cert-obtained {
            background: var(--success);
            color: white;
        }

        .cert-pending {
            background: var(--warning);
            color: white;
        }

        .cert-none {
            background: var(--border-light);
            color: var(--text-light);
        }

        .actions-cell {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }

        .btn-report {
            background: var(--light-blue);
            color: var(--primary-blue);
        }

        .btn-certificate {
            background: #e2f8ee;
            color: var(--success);
        }

        .btn-download {
            background: var(--light-pink);
            color: var(--primary-pink);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 16px;
            padding: 2rem;
            max-width: 900px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-light);
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .modal-close {
            background: var(--soft-gray);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        /* Certificate Preview */
        .certificate-preview {
            background: var(--soft-gray);
            border-radius: 12px;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
            border: 3px solid var(--primary-blue);
        }

        .certificate-header {
            margin-bottom: 2rem;
        }

        .certificate-logo {
            width: 80px;
            height: 80px;
            background: var(--gradient-contact);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 2rem;
            font-weight: 700;
        }

        .certificate-title {
            font-size: 2rem;
            font-weight: 300;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .certificate-subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
        }

        .certificate-body {
            margin: 2rem 0;
            line-height: 1.8;
        }

        .certificate-text {
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .certificate-name {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-blue);
            margin: 1rem 0;
        }

        .certificate-course {
            font-size: 1.2rem;
            color: var(--primary-pink);
            font-weight: 500;
        }

        .certificate-footer {
            display: flex;
            justify-content: space-between;
            align-items: end;
            margin-top: 3rem;
        }

        .certificate-date {
            text-align: left;
        }

        .certificate-signature {
            text-align: right;
        }

        .signature-line {
            border-top: 1px solid var(--text-dark);
            width: 150px;
            margin-bottom: 0.5rem;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .dashboard-layout {
                grid-template-columns: 1fr;
                grid-template-areas: 
                    "header"
                    "main";
            }
            
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 1rem;
            }
            
            .report-types {
                grid-template-columns: 1fr;
            }
            
            .filters-grid {
                grid-template-columns: 1fr;
            }
            
            .progress-grid {
                grid-template-columns: 1fr;
            }
            
            .employees-table th,
            .employees-table td {
                padding: 0.75rem 0.5rem;
                font-size: 0.8rem;
            }
            
            .certificate-title {
                font-size: 1.5rem;
            }
            
            .certificate-name {
                font-size: 1.2rem;
            }
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-light);
            border-radius: 50%;
            border-top-color: var(--primary-blue);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">A+</div>
                <div class="logo-text">ADSIAM</div>
            </div>

            <nav class="nav-section">
                <div class="nav-section-title">Navigation</div>
                <div class="nav-links">
                    <a href="/entreprise/dashboard" class="nav-link">
                        <span class="nav-icon">üìä</span>
                        <span>Tableau de bord</span>
                    </a>
                    <a href="/entreprise/salaries" class="nav-link">
                        <span class="nav-icon">üë•</span>
                        <span>Mes salari√©s</span>
                        <span class="nav-badge">24</span>
                    </a>
                    <a href="/entreprise/inscription" class="nav-link">
                        <span class="nav-icon">‚úçÔ∏è</span>
                        <span>Inscriptions</span>
                    </a>
                    <a href="/entreprise/facturation" class="nav-link">
                        <span class="nav-icon">üí∞</span>
                        <span>Facturation</span>
                        <span class="nav-badge">3</span>
                    </a>
                    <a href="#" class="nav-link active">
                        <span class="nav-icon">üìà</span>
                        <span>Rapports de formation</span>
                    </a>
                </div>
            </nav>

            <nav class="nav-section">
                <div class="nav-section-title">Formations</div>
                <div class="nav-links">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üìö</span>
                        <span>Catalogue</span>
                    </a>
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üéØ</span>
                        <span>Formations en cours</span>
                        <span class="nav-badge">12</span>
                    </a>
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üèÜ</span>
                        <span>Certifications</span>
                    </a>
                </div>
            </nav>

            <nav class="nav-section">
                <div class="nav-section-title">Support</div>
                <div class="nav-links">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üí¨</span>
                        <span>Support</span>
                    </a>
                    <a href="#" class="nav-link">
                        <span class="nav-icon">‚ùì</span>
                        <span>Centre d'aide</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div>
                    <h1>Rapports de Formation</h1>
                    <div class="breadcrumb">Espace Entreprise ‚Ä∫ Suivi et Attestations</div>
                </div>
            </div>
            
            <div class="header-right">
                <button class="btn-primary" onclick="generateGlobalReport()">
                    <span>üìä</span>
                    <span>Rapport global</span>
                </button>
                
                <div class="user-menu">
                    <div class="user-avatar">SH</div>
                    <div>
                        <div style="font-size: 0.9rem; font-weight: 600;">Services Habitat</div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">Administrateur RH</div>
                    </div>
                    <span>‚åÑ</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Report Types -->
            <div class="report-types fade-in">
                <div class="report-card" onclick="generateProgressReport()">
                    <div class="report-header">
                        <div class="report-icon">üìà</div>
                        <div class="report-info">
                            <h3>Rapport de Progression</h3>
                            <p>Par employ√© et formation</p>
                        </div>
                    </div>
                    <p class="report-description">
                        Suivi d√©taill√© de l'avancement de chaque employ√© dans ses formations, avec m√©triques de temps pass√© et modules compl√©t√©s.
                    </p>
                    <div class="report-stats">
                        <div class="stat-item">
                            <div class="stat-value">24</div>
                            <div class="stat-label">Employ√©s</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">12</div>
                            <div class="stat-label">En cours</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">18</div>
                            <div class="stat-label">Termin√©es</div>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn-secondary" onclick="previewProgressReport()">üëÅÔ∏è Aper√ßu</button>
                        <button class="btn-secondary" onclick="generateProgressReport()">üìä G√©n√©rer</button>
                    </div>
                </div>

                <div class="report-card" onclick="generateCertificatesReport()">
                    <div class="report-header">
                        <div class="report-icon">üèÜ</div>
                        <div class="report-info">
                            <h3>Attestations PDF</h3>
                            <p>Certificats individuels</p>
                        </div>
                    </div>
                    <p class="report-description">
                        G√©n√©ration automatique des attestations de formation au format PDF pour chaque employ√© ayant termin√© une formation.
                    </p>
                    <div class="report-stats">
                        <div class="stat-item">
                            <div class="stat-value">18</div>
                            <div class="stat-label">Disponibles</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">5</div>
                            <div class="stat-label">Cette semaine</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">100%</div>
                            <div class="stat-label">Validit√©</div>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn-secondary" onclick="previewCertificate()">üëÅÔ∏è Aper√ßu</button>
                        <button class="btn-secondary" onclick="downloadAllCertificates()">üì• Tout t√©l√©charger</button>
                    </div>
                </div>

                <div class="report-card" onclick="generateComplianceReport()">
                    <div class="report-header">
                        <div class="report-icon">‚úÖ</div>
                        <div class="report-info">
                            <h3>Rapport de Conformit√©</h3>
                            <p>Obligations l√©gales</p>
                        </div>
                    </div>
                    <p class="report-description">
                        Synth√®se de la conformit√© r√©glementaire avec les formations obligatoires du secteur m√©dico-social et aide √† domicile.
                    </p>
                    <div class="report-stats">
                        <div class="stat-item">
                            <div class="stat-value">95%</div>
                            <div class="stat-label">Conformit√©</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">2</div>
                            <div class="stat-label">En retard</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">22</div>
                            <div class="stat-label">√Ä jour</div>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn-secondary" onclick="previewComplianceReport()">üëÅÔ∏è Aper√ßu</button>
                        <button class="btn-secondary" onclick="exportComplianceData()">üìä Export</button>
                    </div>
                </div>

                <div class="report-card" onclick="generateROIReport()">
                    <div class="report-header">
                        <div class="report-icon">üíé</div>
                        <div class="report-info">
                            <h3>Analyse ROI</h3>
                            <p>Retour sur investissement</p>
                        </div>
                    </div>
                    <p class="report-description">
                        √âvaluation de l'impact des formations sur la performance, la r√©tention des employ√©s et la satisfaction client.
                    </p>
                    <div class="report-stats">
                        <div class="stat-item">
                            <div class="stat-value">320%</div>
                            <div class="stat-label">ROI</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">2,847‚Ç¨</div>
                            <div class="stat-label">Investi</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">+15%</div>
                            <div class="stat-label">Performance</div>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn-secondary" onclick="previewROIReport()">üëÅÔ∏è Aper√ßu</button>
                        <button class="btn-secondary" onclick="generateROIReport()">üìà Analyser</button>
                    </div>
                </div>
            </div>

            <!-- Quick Filters -->
            <div class="quick-filters fade-in">
                <h3 class="filters-title">üîç Filtres rapides</h3>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">P√©riode</label>
                        <select class="filter-select" id="periodFilter">
                            <option value="current-month">Ce mois</option>
                            <option value="last-month">Mois dernier</option>
                            <option value="current-quarter">Ce trimestre</option>
                            <option value="current-year">Cette ann√©e</option>
                            <option value="all-time">Toute p√©riode</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">Formation</label>
                        <select class="filter-select" id="formationFilter">
                            <option value="">Toutes les formations</option>
                            <option value="communication">Communication & Relationnel</option>
                            <option value="hygiene">Hygi√®ne & S√©curit√©</option>
                            <option value="ergonomie">Ergonomie & Gestes</option>
                            <option value="urgences">Premiers Secours</option>
                            <option value="nutrition">Nutrition & Repas</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">Service</label>
                        <select class="filter-select" id="serviceFilter">
                            <option value="">Tous les services</option>
                            <option value="aide-domicile">Aide √† domicile</option>
                            <option value="ehpad">EHPAD</option>
                            <option value="soins-infirmiers">Soins infirmiers</option>
                            <option value="administration">Administration</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">Statut</label>
                        <select class="filter-select" id="statusFilter">
                            <option value="">Tous les statuts</option>
                            <option value="completed">Termin√©</option>
                            <option value="in-progress">En cours</option>
                            <option value="not-started">Pas commenc√©</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Progress Overview -->
            <div class="progress-overview fade-in">
                <div class="overview-header">
                    <h3 class="overview-title">üìä Vue d'ensemble des formations</h3>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn-secondary" onclick="refreshOverview()">üîÑ Actualiser</button>
                        <button class="btn-secondary" onclick="exportOverview()">üìä Exporter</button>
                    </div>
                </div>
                
                <div class="progress-grid">
                    <div class="progress-item">
                        <div class="progress-header">
                            <div class="progress-title">Communication & Relationnel</div>
                            <div class="progress-percentage">85%</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                        <div class="progress-details">
                            <span>8 employ√©s inscrits</span>
                            <span>7 termin√©s</span>
                        </div>
                    </div>
                    
                    <div class="progress-item">
                        <div class="progress-header">
                            <div class="progress-title">Hygi√®ne & S√©curit√©</div>
                            <div class="progress-percentage">60%</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                        <div class="progress-details">
                            <span>6 employ√©s inscrits</span>
                            <span>3 termin√©s</span>
                        </div>
                    </div>
                    
                    <div class="progress-item">
                        <div class="progress-header">
                            <div class="progress-title">Premiers Secours</div>
                            <div class="progress-percentage">45%</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                        </div>
                        <div class="progress-details">
                            <span>4 employ√©s inscrits</span>
                            <span>2 termin√©s</span>
                        </div>
                    </div>
                    
                    <div class="progress-item">
                        <div class="progress-header">
                            <div class="progress-title">Ergonomie & Gestes</div>
                            <div class="progress-percentage">75%</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 75%"></div>
                        </div>
                        <div class="progress-details">
                            <span>3 employ√©s inscrits</span>
                            <span>2 termin√©s</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Employee Reports Table -->
            <div class="employees-reports fade-in">
                <div class="table-header">
                    <h3 class="table-title">üë§ Rapports individuels</h3>
                    <div class="table-actions">
                        <button class="btn-secondary" onclick="bulkDownload()">üì• Tout t√©l√©charger</button>
                        <button class="btn-secondary" onclick="sendReports()">üìß Envoyer rapports</button>
                    </div>
                </div>
                
                <table class="employees-table">
                    <thead>
                        <tr>
                            <th>Employ√©</th>
                            <th>Progression</th>
                            <th>Derni√®re activit√©</th>
                            <th>Certifications</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="employee-info">
                                    <div class="employee-avatar" style="background: var(--gradient-blue);">MD</div>
                                    <div class="employee-details">
                                        <h4>Marie Dubois</h4>
                                        <p>Aide √† domicile</p>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div class="progress-mini">
                                        <div class="progress-mini-fill" style="width: 85%"></div>
                                    </div>
                                    <span style="font-weight: 600; color: var(--primary-blue);">85%</span>
                                </div>
                                <div style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.3rem;">
                                    3 formations ‚Ä¢ 2 termin√©es
                                </div>
                            </td>
                            <td>
                                <div style="font-weight: 500;">Aujourd'hui</div>
                                <div style="font-size: 0.8rem; color: var(--text-light);">Communication - Module 5</div>
                            </td>
                            <td>
                                <div class="certification-status">
                                    <div class="cert-icon cert-obtained">‚úì</div>
                                    <span>2 certifications</span>
                                </div>
                            </td>
                            <td>
                                <div class="actions-cell">
                                    <button class="action-btn btn-report" onclick="viewEmployeeReport('marie-dubois')" title="Rapport d√©taill√©">üìä</button>
                                    <button class="action-btn btn-certificate" onclick="viewCertificate('marie-dubois')" title="Voir certificat">üèÜ</button>
                                    <button class="action-btn btn-download" onclick="downloadEmployeeReport('marie-dubois')" title="T√©l√©charger">‚¨áÔ∏è</button>
                                </div>
                            </td>
                        </tr>
                        
                        <tr>
                            <td>
                                <div class="employee-info">
                                    <div class="employee-avatar" style="background: var(--gradient-green);">JM</div>
                                    <div class="employee-details">
                                        <h4>Jean Martin</h4>
                                        <p>EHPAD</p>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div class="progress-mini">
                                        <div class="progress-mini-fill" style="width: 45%"></div>
                                    </div>
                                    <span style="font-weight: 600; color: var(--primary-pink);">45%</span>
                                </div>
                                <div style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.3rem;">
                                    2 formations ‚Ä¢ 1 termin√©e
                                </div>
                            </td>
                            <td>
                                <div style="font-weight: 500;">Hier</div>
                                <div style="font-size: 0.8rem; color: var(--text-light);">Hygi√®ne - Module 2</div>
                            </td>
                            <td>
                                <div class="certification-status">
                                    <div class="cert-icon cert-pending">‚è≥</div>
                                    <span>En cours</span>
                                </div>
                            </td>
                            <td>
                                <div class="actions-cell">
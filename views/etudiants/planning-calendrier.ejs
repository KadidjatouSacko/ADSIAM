<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planning & Calendrier | ADSIAM Étudiant</title>
    <link rel="stylesheet" href="/css/planning-calendrier.css">
</head>
<body>
    <!-- Header -->
    <%- include('../partials/header-etudiant') %>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Page Header -->
        <section class="page-header fade-in">
            <div class="page-info">
                <h1>Planning & Calendrier 📅</h1>
                <p>Organisez votre temps d'étude et ne manquez aucun événement important</p>
            </div>
            <div class="page-actions">
                <button class="btn btn-secondary" onclick="syncCalendar()">🔄 Synchroniser</button>
                <button class="btn btn-primary" onclick="openModal('addEvent')">➕ Nouvel événement</button>
            </div>
        </section>

        <div class="calendar-container">
            <!-- Main Calendar -->
            <section class="calendar-main fade-in">
                <div class="calendar-header">
                    <div class="calendar-nav">
                        <button class="nav-btn" onclick="previousMonth()">‹</button>
                        <h2 class="calendar-title" id="calendarTitle">Janvier 2025</h2>
                        <button class="nav-btn" onclick="nextMonth()">›</button>
                    </div>
                    
                    <div class="view-toggle">
                        <button class="view-btn active" onclick="switchView('calendar')">📅 Calendrier</button>
                        <button class="view-btn" onclick="switchView('list')">📋 Liste</button>
                    </div>
                </div>

                <!-- Calendar Grid View -->
                <div class="calendar-view" id="calendarView">
                    <div class="calendar-grid">
                        <!-- Headers -->
                        <div class="calendar-day-header">Lun</div>
                        <div class="calendar-day-header">Mar</div>
                        <div class="calendar-day-header">Mer</div>
                        <div class="calendar-day-header">Jeu</div>
                        <div class="calendar-day-header">Ven</div>
                        <div class="calendar-day-header">Sam</div>
                        <div class="calendar-day-header">Dim</div>

                        <!-- Days -->
                        <div class="calendar-day other-month">
                            <div class="day-number">30</div>
                        </div>
                        <div class="calendar-day other-month">
                            <div class="day-number">31</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">1</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">2</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">3</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">4</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">5</div>
                        </div>

                        <div class="calendar-day">
                            <div class="day-number">6</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">7</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">8</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">9</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">10</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">11</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">12</div>
                        </div>

                        <div class="calendar-day">
                            <div class="day-number">13</div>
                        </div>
                        <div class="calendar-day today">
                            <div class="day-number">14</div>
                            <div class="day-events">
                                <div class="event-item event-formation">Module 5 - Communication</div>
                                <div class="event-item event-webinaire">Webinaire 14h</div>
                            </div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">15</div>
                            <div class="day-events">
                                <div class="event-item event-webinaire">Gestion du stress 14h</div>
                            </div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">16</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">17</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">18</div>
                            <div class="day-events">
                                <div class="event-item event-evaluation">Évaluation Hygiène</div>
                            </div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">19</div>
                        </div>

                        <div class="calendar-day">
                            <div class="day-number">20</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">21</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">22</div>
                            <div class="day-events">
                                <div class="event-item event-session">Session Premiers Secours</div>
                            </div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">23</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">24</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">25</div>
                            <div class="day-events">
                                <div class="event-item event-formation">Module Nutrition</div>
                            </div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">26</div>
                        </div>

                        <div class="calendar-day">
                            <div class="day-number">27</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">28</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">29</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">30</div>
                        </div>
                        <div class="calendar-day">
                            <div class="day-number">31</div>
                        </div>
                        <div class="calendar-day other-month">
                            <div class="day-number">1</div>
                        </div>
                        <div class="calendar-day other-month">
                            <div class="day-number">2</div>
                        </div>
                    </div>
                </div>

                <!-- List View -->
                <div class="list-view" id="listView">
                    <div class="events-list">
                        <div class="event-card">
                            <div class="event-card-header">
                                <h3 class="event-card-title">Webinaire : Gestion du stress professionnel</h3>
                                <span class="event-card-date">15 Jan - 14h00</span>
                            </div>
                            <div class="event-card-content">
                                <div class="event-info">
                                    <p><strong>Type:</strong> Webinaire en direct</p>
                                    <p><strong>Durée:</strong> 1h30</p>
                                    <p><strong>Formateur:</strong> Dr. Claire Rousseau</p>
                                    <p><strong>Participants:</strong> 45 inscrits</p>
                                </div>
                                <div class="event-actions">
                                    <button class="btn btn-secondary">📋 Détails</button>
                                    <button class="btn btn-primary">🎥 Rejoindre</button>
                                </div>
                            </div>
                        </div>

                        <div class="event-card">
                            <div class="event-card-header">
                                <h3 class="event-card-title">Évaluation : Hygiène & Sécurité</h3>
                                <span class="event-card-date">18 Jan - 23h59</span>
                            </div>
                            <div class="event-card-content">
                                <div class="event-info">
                                    <p><strong>Type:</strong> Évaluation finale</p>
                                    <p><strong>Durée:</strong> 45 minutes</p>
                                    <p><strong>Questions:</strong> 30 QCM</p>
                                    <p><strong>Note minimale:</strong> 60%</p>
                                </div>
                                <div class="event-actions">
                                    <button class="btn btn-secondary">📚 Réviser</button>
                                    <button class="btn btn-primary">✍️ Passer l'examen</button>
                                </div>
                            </div>
                        </div>

                        <div class="event-card">
                            <div class="event-card-header">
                                <h3 class="event-card-title">Session pratique : Premiers secours</h3>
                                <span class="event-card-date">22 Jan - 10h00</span>
                            </div>
                            <div class="event-card-content">
                                <div class="event-info">
                                    <p><strong>Type:</strong> Session en présentiel</p>
                                    <p><strong>Lieu:</strong> Centre ADSIAM Paris 15e</p>
                                    <p><strong>Durée:</strong> 2 heures</p>
                                    <p><strong>Matériel:</strong> Fourni sur place</p>
                                </div>
                                <div class="event-actions">
                                    <button class="btn btn-secondary">📍 Itinéraire</button>
                                    <button class="btn btn-primary">✅ Confirmer présence</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sidebar -->
            <aside class="calendar-sidebar">
                <!-- Quick Actions -->
                <div class="quick-actions fade-in">
                    <h3 class="section-title">⚡ Actions rapides</h3>
                    
                    <button class="action-btn" onclick="scheduleStudy()">
                        <div class="action-icon">📚</div>
                        <div class="action-content">
                            <div class="action-title">Planifier une session d'étude</div>
                            <div class="action-description">Bloquez du temps pour vos formations</div>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="joinWebinar()">
                        <div class="action-icon">🎥</div>
                        <div class="action-content">
                            <div class="action-title">Rejoindre un webinaire</div>
                            <div class="action-description">Sessions en direct avec les formateurs</div>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="setReminder()">
                        <div class="action-icon">⏰</div>
                        <div class="action-content">
                            <div class="action-title">Configurer des rappels</div>
                            <div class="action-description">Ne manquez plus aucune échéance</div>
                        </div>
                    </button>
                    
                    <button class="action-btn" onclick="exportCalendar()">
                        <div class="action-icon">📤</div>
                        <div class="action-content">
                            <div class="action-title">Exporter vers mon agenda</div>
                            <div class="action-description">Google Calendar, Outlook, Apple</div>
                        </div>
                    </button>
                </div>

                <!-- Today's Schedule -->
                <div class="today-schedule fade-in">
                    <h3 class="section-title">🗓️ Programme d'aujourd'hui</h3>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">09:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Session d'étude personnelle</div>
                            <div class="schedule-details">Module 5 - Communication bienveillante</div>
                        </div>
                        <div class="schedule-status status-completed">✅</div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">14:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Webinaire : Introduction à l'ergonomie</div>
                            <div class="schedule-details">Dr. Martin Dubois • En direct</div>
                        </div>
                        <div class="schedule-status status-live">🔴 LIVE</div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">16:30</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Quiz d'évaluation</div>
                            <div class="schedule-details">Hygiène & Sécurité • 20 minutes</div>
                        </div>
                        <div class="schedule-status status-upcoming">⏳</div>
                    </div>
                    
                    <div class="schedule-item">
                        <div class="schedule-time">18:00</div>
                        <div class="schedule-content">
                            <div class="schedule-title">Révision guidée</div>
                            <div class="schedule-details">Préparation examen final</div>
                        </div>
                        <div class="schedule-status status-upcoming">⏳</div>
                    </div>
                </div>

                <!-- Upcoming Events -->
                <div class="upcoming-events fade-in">
                    <h3 class="section-title">🔔 Prochains événements</h3>
                    
                    <div class="event-list">
                        <div class="upcoming-event">
                            <div class="event-date">
                                <span class="event-day">15</span>
                                <span class="event-month">Jan</span>
                            </div>
                            <div class="event-details">
                                <div class="event-title">Webinaire Gestion du Stress</div>
                                <div class="event-time">14h00 - 15h30 • En ligne</div>
                            </div>
                            <div class="event-type event-webinaire">Webinaire</div>
                        </div>
                        
                        <div class="upcoming-event">
                            <div class="event-date">
                                <span class="event-day">18</span>
                                <span class="event-month">Jan</span>
                            </div>
                            <div class="event-details">
                                <div class="event-title">Évaluation Hygiène & Sécurité</div>
                                <div class="event-time">À faire avant 23h59</div>
                            </div>
                            <div class="event-type event-evaluation">Évaluation</div>
                        </div>
                        
                        <div class="upcoming-event">
                            <div class="event-date">
                                <span class="event-day">22</span>
                                <span class="event-month">Jan</span>
                            </div>
                            <div class="event-details">
                                <div class="event-title">Session Premiers Secours</div>
                                <div class="event-time">10h00 - 12h00 • Paris 15e</div>
                            </div>
                            <div class="event-type event-session">Présentiel</div>
                        </div>
                        
                        <div class="upcoming-event">
                            <div class="event-date">
                                <span class="event-day">25</span>
                                <span class="event-month">Jan</span>
                            </div>
                            <div class="event-details">
                                <div class="event-title">Nouveau Module Nutrition</div>
                                <div class="event-time">Disponible dès 9h00</div>
                            </div>
                            <div class="event-type event-formation">Formation</div>
                        </div>
                        
                        <div class="upcoming-event">
                            <div class="event-date">
                                <span class="event-day">28</span>
                                <span class="event-month">Jan</span>
                            </div>
                            <div class="event-details">
                                <div class="event-title">Communauté ADSIAM Paris</div>
                                <div class="event-time">19h00 - 21h00 • Café des Arts</div>
                            </div>
                            <div class="event-type" style="background: #e8d5ff; color: #7c3aed;">Networking</div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modal Add Event -->
    <div class="modal" id="addEventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">➕ Nouvel événement</h2>
                <button class="close-btn" onclick="closeModal('addEvent')">&times;</button>
            </div>
            
            <form id="addEventForm">
                <div class="form-group">
                    <label class="form-label">Titre de l'événement *</label>
                    <input type="text" class="form-input" placeholder="Ex: Session d'étude Module 3" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Type d'événement</label>
                    <select class="form-select">
                        <option value="study">Session d'étude</option>
                        <option value="webinar">Webinaire</option>
                        <option value="exam">Évaluation</option>
                        <option value="session">Session pratique</option>
                        <option value="reminder">Rappel personnel</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Date *</label>
                        <input type="date" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Heure</label>
                        <input type="time" class="form-input" value="09:00">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Durée (minutes)</label>
                        <input type="number" class="form-input" value="60" min="15" max="480">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Formation liée</label>
                        <select class="form-select">
                            <option value="">Aucune</option>
                            <option value="comm">Communication & Relationnel</option>
                            <option value="hygiene">Hygiène & Sécurité</option>
                            <option value="urgences">Premiers Secours</option>
                            <option value="patho">Pathologies</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-textarea" placeholder="Détails de l'événement, objectifs, préparation nécessaire..."></textarea>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                        <input type="checkbox" checked>
                        <span>Envoyer un rappel par email 30 minutes avant</span>
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addEvent')">Annuler</button>
                    <button type="submit" class="btn btn-primary">💾 Créer l'événement</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Event Details -->
    <div class="modal" id="eventDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📅 Détails de l'événement</h2>
                <button class="close-btn" onclick="closeModal('eventDetails')">&times;</button>
            </div>
            
            <div id="eventDetailsContent">
                <!-- Contenu dynamique -->
            </div>
        </div>
    </div>

    <%- include('../partials/footer') %>

    <script>
        let currentMonth = 0; // Janvier = 0
        let currentYear = 2025;
        
        const monthNames = [
            'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
            'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'
        ];

        // Navigation Calendar
        function previousMonth() {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            updateCalendarTitle();
            // Ici vous pourriez recharger les événements du mois
            console.log(`Navigation vers ${monthNames[currentMonth]} ${currentYear}`);
        }

        function nextMonth() {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            updateCalendarTitle();
            console.log(`Navigation vers ${monthNames[currentMonth]} ${currentYear}`);
        }

        function updateCalendarTitle() {
            document.getElementById('calendarTitle').textContent = `${monthNames[currentMonth]} ${currentYear}`;
        }

        // Switch Views
        function switchView(viewType) {
            const calendarView = document.getElementById('calendarView');
            const listView = document.getElementById('listView');
            const buttons = document.querySelectorAll('.view-btn');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (viewType === 'calendar') {
                calendarView.style.display = 'block';
                listView.classList.remove('active');
                buttons[0].classList.add('active');
            } else {
                calendarView.style.display = 'none';
                listView.classList.add('active');
                buttons[1].classList.add('active');
            }
        }

        // Modal Management
        function openModal(modalType) {
            const modal = document.getElementById(modalType + 'Modal');
            modal.classList.add('show');
        }

        function closeModal(modalType) {
            const modal = document.getElementById(modalType + 'Modal');
            modal.classList.remove('show');
        }

        // Quick Actions
        function scheduleStudy() {
            alert('📚 Planification d\'une session d\'étude\n\n✅ Sélectionnez votre formation\n⏰ Choisissez le créneau horaire\n🎯 Définissez vos objectifs\n📱 Rappels automatiques activés\n\nVoulez-vous ouvrir le planificateur ?');
        }

        function joinWebinar() {
            alert('🎥 Webinaires disponibles\n\n🔴 EN DIRECT: Introduction à l\'ergonomie (14h00)\n📅 À venir: Gestion du stress (15 Jan 14h)\n📹 Replay: Communication bienveillante\n\nRejoindre le webinaire en cours ?');
        }

        function setReminder() {
            alert('⏰ Configuration des rappels\n\n📧 Email: 30 min avant les événements\n📱 SMS: Pour les évaluations importantes\n🔔 Push: Sessions d\'étude quotidiennes\n⚙️ Personnalisation des créneaux\n\nOuvrir les paramètres de rappels ?');
        }

        function exportCalendar() {
            alert('📤 Export vers calendrier externe\n\n📅 Google Calendar\n📅 Outlook\n🍎 Apple Calendar\n📅 Format iCal standard\n\n🔄 Synchronisation bidirectionnelle\n✅ Mises à jour automatiques\n\nChoisir le calendrier de destination ?');
        }

        function syncCalendar() {
            // Animation de synchronisation
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '⏳ Synchronisation...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerHTML = '✅ Synchronisé';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                }, 1000);
            }, 2000);
            
            console.log('Synchronisation du calendrier en cours...');
        }

        // Event Interactions
        document.querySelectorAll('.event-item').forEach(item => {
            item.addEventListener('click', function() {
                const eventTitle = this.textContent;
                showEventDetails(eventTitle);
            });
        });

        document.querySelectorAll('.upcoming-event').forEach(event => {
            event.addEventListener('click', function() {
                const title = this.querySelector('.event-title').textContent;
                const time = this.querySelector('.event-time').textContent;
                showEventDetails(title, time);
            });
        });

        document.querySelectorAll('.schedule-item').forEach(item => {
            item.addEventListener('click', function() {
                const title = this.querySelector('.schedule-title').textContent;
                const details = this.querySelector('.schedule-details').textContent;
                const time = this.querySelector('.schedule-time').textContent;
                showEventDetails(title, `${time} • ${details}`);
            });
        });

        function showEventDetails(title, details = '') {
            const modal = document.getElementById('eventDetailsModal');
            const content = document.getElementById('eventDetailsContent');
            
            content.innerHTML = `
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: var(--text-dark); margin-bottom: 1rem;">${title}</h3>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">${details}</p>
                    
                    <div style="background: var(--soft-gray); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div>
                                <strong>📅 Date:</strong><br>
                                <span style="color: var(--text-light);">15 janvier 2025</span>
                            </div>
                            <div>
                                <strong>⏰ Heure:</strong><br>
                                <span style="color: var(--text-light);">14h00 - 15h30</span>
                            </div>
                            <div>
                                <strong>🎯 Type:</strong><br>
                                <span style="color: var(--text-light);">Webinaire en direct</span>
                            </div>
                            <div>
                                <strong>👨‍🏫 Formateur:</strong><br>
                                <span style="color: var(--text-light);">Dr. Claire Rousseau</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 2rem;">
                        <strong style="color: var(--text-dark);">📝 Description:</strong><br>
                        <p style="color: var(--text-light); margin-top: 0.5rem;">Session interactive sur les techniques de gestion du stress dans l'environnement professionnel de l'aide à domicile. Méthodes de relaxation, organisation du temps et prévention de l'épuisement.</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                    <button class="btn btn-secondary" onclick="addToPersonalCalendar()">📅 Ajouter à mon agenda</button>
                    <button class="btn btn-primary" onclick="joinEvent()">🎥 Rejoindre</button>
                </div>
            `;
            
            modal.classList.add('show');
        }

        function addToPersonalCalendar() {
            alert('📅 Ajout à votre calendrier personnel\n\n✅ Événement ajouté\n⏰ Rappel configuré 30 min avant\n🔗 Lien de connexion inclus\n📧 Confirmation envoyée par email');
            closeModal('eventDetails');
        }

        function joinEvent() {
            alert('🎥 Connexion au webinaire\n\n🔴 Session en direct\n🎙️ Micro désactivé par défaut\n💬 Chat disponible pour vos questions\n📹 Enregistrement disponible après\n\nOuverture de la session...');
            closeModal('eventDetails');
        }

        // Calendar Day Clicks
        document.querySelectorAll('.calendar-day').forEach(day => {
            day.addEventListener('click', function() {
                if (!this.classList.contains('other-month')) {
                    const dayNumber = this.querySelector('.day-number').textContent;
                    const hasEvents = this.querySelector('.day-events');
                    
                    if (hasEvents) {
                        const events = Array.from(this.querySelectorAll('.event-item')).map(e => e.textContent);
                        alert(`📅 ${dayNumber} janvier 2025\n\nÉvénements:\n${events.map(e => `• ${e}`).join('\n')}\n\nCliquez sur un événement pour plus de détails`);
                    } else {
                        if (confirm(`📅 ${dayNumber} janvier 2025\n\nAucun événement planifié\n\nSouhaitez-vous ajouter un événement ?`)) {
                            openModal('addEvent');
                        }
                    }
                }
            });
        });

        // Form Submission
        document.getElementById('addEventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            alert('✅ Événement créé avec succès !\n\n📅 Ajouté à votre calendrier\n⏰ Rappel configuré\n📧 Confirmation envoyée\n\n🔄 Calendrier mis à jour');
            closeModal('addEvent');
            
            // Reset form
            this.reset();
        });

        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Close modals on outside click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('show');
                }
            });
        });

        // Initialize
        window.addEventListener('load', () => {
            updateCalendarTitle();
            console.log('📅 Planning ADSIAM chargé');
            console.log('🗓️ Mois affiché: Janvier 2025');
            console.log('⚡ Actions rapides et synchronisation disponibles');
            console.log('🎯 Événements: 7 prévus ce mois-ci');
        });
    </script>
</body>
</html>